<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="G√©n√©rateur de Carte √âtudiant - Cr√©ez votre carte d'√©tudiant en quelques clics">
  <title>G√©n√©rateur de Carte √âtudiant</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>
</head>

<body class="light-mode">
  <header>
    <nav id="navigation" aria-label="Navigation principale">
      <div class="nav-container">
        <div class="logo">FPT Carte √âtudiant</div>
        <button id="menuToggle" class="menu-toggle" aria-expanded="false" aria-label="Menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <ul id="navLinks">
          <li><a href="#welcome" aria-current="page">Accueil</a></li>
          <li><a href="#about">√Ä propos</a></li>
          <li><a href="#contact">Contact</a></li>
          <li>
            <button id="darkModeToggle" class="theme-toggle" aria-pressed="false">
              <span class="light-mode-text">Mode nuit</span>
              <span class="dark-mode-text">Mode jour</span>
              <span class="toggle-icon"></span>
            </button>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <main>
    <section id="welcome" class="section welcome-page">
      <div class="container">
        <h1>Bienvenue sur le G√©n√©rateur de Carte √âtudiant</h1>
        <p>G√©n√©rez votre carte d'√©tudiant rapidement et facilement.</p>
        <button id="startBtn" class="button primary-button">Cr√©er une Carte √âtudiant</button>
      </div>
    </section>

    <section id="about" class="section">
      <div class="container">
        <h2>√Ä propos de nous</h2>
        <p>
          Besoin d'une carte d'√©tudiant ? Notre G√©n√©rateur de Carte √âtudiant rend cela simple et rapide !
          Cr√©ez votre carte d'identification √©tudiante officielle en quelques clics.
        </p>
        <div class="features">
          <div class="feature-item">
            <div class="feature-icon">üìù</div>
            <div class="feature-text">G√©n√©rez des cartes d'√©tudiant professionnelles conformes aux normes institutionnelles</div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">üëå</div>
            <div class="feature-text">Interface facile √† utiliser - aucune comp√©tence technique requise</div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">üñºÔ∏è</div>
            <div class="feature-text">Obtenez votre carte d'√©tudiant num√©rique en fichier image de haute qualit√©</div>
          </div>
        </div>
        <p>
          Nous comprenons l'importance d'avoir une identification √©tudiante appropri√©e. Notre syst√®me vous assure d'obtenir
          une carte d'√©tudiant standardis√©e et professionnelle qui inclut toutes les informations n√©cessaires.
        </p>
        <div class="cta-container">
          <button id="startBtnAbout" class="button primary-button">Cr√©er ma carte maintenant</button>
        </div>
      </div>
    </section>

    <section id="contact" class="section">
      <div class="container">
        <h2>Contactez-nous</h2>
        <p>Besoin d'aide ? Contactez notre √©quipe de support :</p>
        <div class="contact-info">
          <div class="contact-item">
            <div class="contact-icon">üì±</div>
            <div class="contact-text"><strong>T√©l√©phone :</strong> +212 6 50 32 92 24</div>
          </div>
          <div class="contact-item">
            <div class="contact-icon">üìß</div>
            <div class="contact-text"><strong>Email :</strong> <a href="mailto:elfadiliyacine@gmail.com">elfadiliyacine@gmail.com</a></div>
          </div>
          <div class="contact-item">
            <div class="contact-icon">üåê</div>
            <div class="contact-text"><strong>Site Web :</strong> <a href="https://yacine20elfadili.github.io/myPortfolio/" target="_blank" rel="noopener">yacine20elfadili.github.io/myPortfolio</a></div>
          </div>
          <div class="contact-item">
            <div class="contact-icon">üè´</div>
            <div class="contact-text"><strong>Administrateur :</strong> La facult√© polydisciplinaire de Taroudant (FPT)</div>
          </div>
          <div class="contact-item">
            <div class="contact-icon">üë®‚Äçüíª</div>
            <div class="contact-text"><strong>R√©alis√© par :</strong> Mohamed Yacine Elfadili</div>
          </div>
        </div>
      </div>
    </section>

    <section id="formSection" class="section hidden">
      <div class="container">
        <h2>Informations √âtudiant</h2>
        <form id="studentCardForm" novalidate>
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">Pr√©nom</label>
              <input type="text" id="firstName" name="firstName" required aria-required="true" 
                     pattern="[A-Za-z√Ä-√ñ√ò-√∂√∏-√ø\s]+" minlength="2" maxlength="50">
              <div class="error-message" id="firstNameError">Veuillez entrer un pr√©nom valide</div>
            </div>

            <div class="form-group">
              <label for="lastName">Nom</label>
              <input type="text" id="lastName" name="lastName" required aria-required="true" 
                     pattern="[A-Za-z√Ä-√ñ√ò-√∂√∏-√ø\s]+" minlength="2" maxlength="50">
              <div class="error-message" id="lastNameError">Veuillez entrer un nom valide</div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="field">Fili√®re</label>
              <select id="field" name="field" required aria-required="true">
                <option value="" disabled selected>S√©lectionnez votre fili√®re</option>
                <option value="Informatique">Informatique</option>
                <option value="Math√©matiques">Math√©matiques</option>
                <option value="Physique">Physique</option>
                <option value="Chimie">Chimie</option>
                <option value="Biologie">Biologie</option>
                <option value="√âconomie">√âconomie</option>
                <option value="Droit">Droit</option>
                <option value="Litt√©rature">Litt√©rature</option>
                <option value="Autre">Autre</option>
              </select>
              <div class="error-message" id="fieldError">Veuillez s√©lectionner une fili√®re</div>
            </div>

            <div class="form-group">
              <label for="otherField">Pr√©cisez (si Autre)</label>
              <input type="text" id="otherField" name="otherField" disabled>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="cin">CIN</label>
              <input type="text" id="cin" name="cin" required aria-required="true" pattern="[A-Z0-9]+" minlength="5" maxlength="10">
              <div class="error-message" id="cinError">Format CIN invalide (ex: AB123456)</div>
            </div>

            <div class="form-group">
              <label for="massar">Code Massar</label>
              <input type="text" id="massar" name="massar" required aria-required="true" pattern="[A-Z0-9]+" minlength="8" maxlength="10">
              <div class="error-message" id="massarError">Format code Massar invalide</div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required aria-required="true">
              <div class="error-message" id="emailError">Veuillez entrer une adresse email valide</div>
            </div>

            <div class="form-group">
              <label for="phone">T√©l√©phone</label>
              <input type="tel" id="phone" name="phone" required aria-required="true" pattern="[0-9+\s]+" minlength="10" maxlength="15">
              <div class="error-message" id="phoneError">Format de t√©l√©phone invalide</div>
            </div>
          </div>

          <div class="form-group photo-upload">
            <label for="photo">Photo de profil</label>
            <div class="photo-preview-container">
              <div id="photoPreview" class="photo-preview"></div>
              <div class="upload-btn-wrapper">
                <button class="btn">Choisir une photo</button>
                <input type="file" id="photo" name="photo" accept="image/*" required aria-required="true">
              </div>
            </div>
            <div class="error-message" id="photoError">Veuillez s√©lectionner une photo</div>
            <p class="photo-tip">Format recommand√© : 3x4, fond uni, visage clairement visible</p>
          </div>

          <div class="form-buttons">
            <button type="button" id="backButton" class="button secondary-button">Retour</button>
            <button type="submit" id="generateCard" class="button primary-button">G√©n√©rer la Carte</button>
          </div>
        </form>
      </div>
    </section>

    <section id="cardContainer" class="section hidden">
      <div class="container">
        <div class="student-card" id="studentCard">
          <div class="card-header">
            <div class="university-logo">UNIVERSIT√â FPT</div>
            <div class="card-type">CARTE D'√âTUDIANT</div>
          </div>
          <div class="card-main">
            <div class="photo-container">
              <img id="cardPhoto" src="" alt="Photo d'√©tudiant">
            </div>
            <div class="student-info">
              <div class="info-row">
                <div class="info-label">NOM :</div>
                <div class="info-value" id="cardLastName"></div>
              </div>
              <div class="info-row">
                <div class="info-label">PR√âNOM :</div>
                <div class="info-value" id="cardFirstName"></div>
              </div>
              <div class="info-row">
                <div class="info-label">FILI√àRE :</div>
                <div class="info-value" id="cardField"></div>
              </div>
              <div class="info-row">
                <div class="info-label">CIN :</div>
                <div class="info-value" id="cardCIN"></div>
              </div>
              <div class="info-row">
                <div class="info-label">CODE MASSAR :</div>
                <div class="info-value" id="cardMassar"></div>
              </div>
            </div>
          </div>
          <div class="card-footer">
            <div class="contact-info">
              <div id="cardEmail"></div>
              <div id="cardPhone"></div>
            </div>
            <div class="valid-period">2024-2025</div>
          </div>
        </div>
        <div class="card-actions">
          <button class="button secondary-button" id="editCardBtn">Modifier</button>
          <button class="button primary-button" id="downloadBtn">T√©l√©charger votre Carte</button>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer-section">
    <div class="container">
      <p>¬© 2024 G√©n√©rateur de Carte √âtudiant - D√©velopp√© par <a href="https://yacine20elfadili.github.io/myPortfolio/" target="_blank" rel="noopener">Mohamed Yacine Elfadili</a></p>
    </div>
  </footer>

  <div id="loadingOverlay" class="loading-overlay hidden">
    <div class="loader"></div>
    <p>G√©n√©ration de votre carte en cours...</p>
  </div>

  <script src="script.js"></script>
</body>
</html>